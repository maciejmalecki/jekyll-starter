<!DOCTYPE html>
<html>

<head>
	
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-113535243-4"></script>
	<script>
		var useCookies = (localStorage.getItem('useCookies') === 'true');
		if (useCookies) {
			window.dataLayer = window.dataLayer || [];
			function gtag () {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());
			gtag('config', 'UA-113535243-4', { 'anonymize_ip': true });
		}
	</script>

	

	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>Installation guide</title>
  <meta name="description" content="How to download, install and use the `c64lib`.">

	<!-- CSS & fonts -->
	<link rel="stylesheet" href="/jekyll-starter/css/main.css">

	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/png" href="/jekyll-starter/img/favicon.png">

</head>


<body>
	<div id="wrap">

	  	<!-- Navigation -->
	  	<nav id="nav">
	<div id="nav-list">
		<a href="/jekyll-starter/">Home</a>

		<!-- Nav pages -->
		
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	      <a href="/jekyll-starter/pages/about" title="About">About</a>
	    
	  
	    
	      <a href="/jekyll-starter/pages/install" title="Installation guide">Install</a>
	    
	  
	    
	      <a href="/jekyll-starter/news/" title="News">News</a>
	    
	  
	    
	      <a href="/jekyll-starter/pages/contribute" title="Contribute">Contribute</a>
	    
	  

    <!-- Nav links -->
	  <a href="https://github.com/c64lib">Github</a>


	</div>

  <!-- Nav footer -->
	
	  <footer>

</footer>

	

</nav>


    <!-- Icon menu -->
	  <a id="nav-menu">
	  	<div id="menu"></div>
	  </a>

      <!-- Header -->
      
        <header id="header" class="parent justify-spaceBetween">
  <div class="inner w100 relative">
    <span class="f-left">
      <a href="/jekyll-starter/">
          <h1><code>c64lib</code></h1>
      </a>
    </span>
    <span id="nav-links" class="absolute right bottom">
      <!-- Nav pages -->
      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	        <a href="/jekyll-starter/pages/about" title="About">About</a>
	      
	    
	      
	        <a href="/jekyll-starter/pages/install" title="Installation guide">Install</a>
	      
	    
	      
	        <a href="/jekyll-starter/news/" title="News">News</a>
	      
	    
	      
	        <a href="/jekyll-starter/pages/contribute" title="Contribute">Contribute</a>
	      
	    

      <!-- Nav links -->
	    <a href="https://github.com/c64lib">Github</a>


    </span>
  </div>
</header>




      

    <!-- Main content -->
	  <div id="container">

		<main>

			<article id="page">
  

  <h1>Installation guide</h1>
  <p>The <code class="highlighter-rouge">c64lib</code> is a set of libraries that can be used in assembly programs
written with <a href="http://theweb.dk/KickAssembler/Main.html">Kick Assembler</a>. Each library consists of one or 
more source files that shall be then imported in Kick Assembler program.
There are several methods of downloading and “installation” of <code class="highlighter-rouge">c64lib</code> 
libraries, some of them will be presented there starting from the most 
convenient one.</p>

<h2 id="using-gradle-as-a-build-tool">Using Gradle as a build tool</h2>
<p>The easiest way to use <code class="highlighter-rouge">c64lib</code> is to add the libraries as dependencies
to the <a href="https://gradle.org/">Gradle</a> build. It is an easy task due to 
<a href="gradle-plugin">Retro Assembler plugin</a>.</p>

<h3 id="when-gradle-is-already-used">When Gradle is already used</h3>
<p>Well, when you are a happy user of Retro Assembler plugin, then you are
even happier, because it’s extremely easy to add <code class="highlighter-rouge">c64lib</code> to your project.
The <code class="highlighter-rouge">c64lib</code> is a <a href="https://github.com/c64lib">GitHub</a> project, so it can be added as GitHub
dependency to your <code class="highlighter-rouge">gradle.build</code> file. Put the following lines into
your <code class="highlighter-rouge">retroProject</code> section of the build file:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>libFromGitHub "c64lib/common", "0.1.0"
libFromGitHub "c64lib/chipset", "0.1.0"
libFromGitHub "c64lib/text", "0.1.0"
libFromGitHub "c64lib/copper64", "0.1.0"
</code></pre></div></div>

<p>Then you will be able to use all four libraries from <code class="highlighter-rouge">c64lib</code>. Of course
not all four are mandatory. You can use any subset of them as long as you
obey dependency graph as shown in <a href="libraries">here</a>.</p>

<p>Retro Assembler plugin downloads all dependencies into default location:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ga/deps
</code></pre></div></div>

<p>All libraries from <code class="highlighter-rouge">c64lib</code> will be downloaded under <code class="highlighter-rouge">c64lib</code> subfolder
therefore the following location:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ga/deps/c64lib
</code></pre></div></div>

<p>must be added to the lib dir so that Kick Assembler will see them when
interpreting <code class="highlighter-rouge">#import</code> directive. The following must be also a part of
your <code class="highlighter-rouge">gradle.build</code> file:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>libDirs = [".ra/deps/c64lib"]
</code></pre></div></div>

<p>The complete <code class="highlighter-rouge">gradle.build</code> will be following:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plugins {
    id "com.github.c64lib.retro-assembler" version "1.0.1"
}

repositories {
    jcenter()
}

apply plugin: "com.github.c64lib.retro-assembler"

retroProject {
    dialect = "KickAssembler"
    dialectVersion = "5.9"
    libDirs = [".ra/deps/c64lib"]

    libFromGitHub "c64lib/common", "0.1.0"
    libFromGitHub "c64lib/chipset", "0.1.0"
    libFromGitHub "c64lib/text", "0.1.0"
    libFromGitHub "c64lib/copper64", "0.1.0"
}
</code></pre></div></div>

<p>In order to build your executable you just need to execute gradle:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gradlew
</code></pre></div></div>

<p>or</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gradlew build
</code></pre></div></div>

<p>In result C64 executables (a <code class="highlighter-rouge">prg</code> files) will be created.</p>

<h3 id="when-gradle-is-not-used">When Gradle is not used</h3>
<p>but you really want to start using it, you have to enable it first.
Following steps are requires as preconditions:</p>

<ol>
  <li>Download and install JDK 8 or higher from <a href="https://www.java.com/en/download/">Oracle</a>.</li>
  <li>Download and install <a href="https://gradle.org/">Gradle</a>.</li>
</ol>

<p>Once it is done, you have to restart your console/terminal application
and go to your project location. In your location you run Gradle to install
a wrapper:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gradle wrapper
</code></pre></div></div>

<p>then you add <code class="highlighter-rouge">gradle.build</code> file using following content (or similar):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plugins {
    id "com.github.c64lib.retro-assembler" version "1.0.1"
}

repositories {
    jcenter()
}

apply plugin: "com.github.c64lib.retro-assembler"

retroProject {
    dialect = "KickAssembler"
    dialectVersion = "5.9"
    libDirs = [".ra/deps/c64lib"]

    libFromGitHub "c64lib/common", "0.1.0"
    libFromGitHub "c64lib/chipset", "0.1.0"
    libFromGitHub "c64lib/text", "0.1.0"
    libFromGitHub "c64lib/copper64", "0.1.0"
}
</code></pre></div></div>

<p>Of course, the set of used libraries (with <code class="highlighter-rouge">libFromGitHub</code> element) may
vary as well as the version of Kick Assembler.</p>

<p>And that’s it: from now on you are able to build your project using simple
<code class="highlighter-rouge">gradlew</code> or <code class="highlighter-rouge">gradlew build</code> commands. It’s not even necessary to have
Gradle installed. All you need is Java 8 or higher.</p>

<h2 id="manual-clone-from-github">Manual clone from GitHub</h2>
<p>If you don’t want to or cannot use <a href="gradle-plugin">Retro Assembler plugin</a>, you can
use your git client and clone libraries manually and then just point
the location with <code class="highlighter-rouge">-libdir</code> parameter of the KickAss.</p>

<p>Lets assume your project has following directory layout on the disk:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>work
  |--libs
  +--project
       |--SomeFile.asm
       +--SomeOtherFile.asm
</code></pre></div></div>

<p>Then you go to the <code class="highlighter-rouge">libs</code> directory (<code class="highlighter-rouge">cd work/libs</code>), and then clone
as many libraries from <code class="highlighter-rouge">c64lib</code> as you need:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/c64lib/common.git
git clone https://github.com/c64lib/chipset.git
git clone https://github.com/c64lib/text.git
git clone https://github.com/c64lib/copper64.git
</code></pre></div></div>

<p>This will checkout latest released version of the library (actually a 
top of the <code class="highlighter-rouge">master</code> branch, which usually means the same). In result
you will get something like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>work
  |--libs
  |    +--common
  |         +--lib
  |              |--common.asm
  |              |--invoke.asm
  |              |--invoke-global.asm
  |              |--math.asm
  |              |--math-global.asm
  |              |--mem.asm
  |              +--mem-global.asm
  |    +--chipset
  |         |--...
  |    +--text
  |         |--...
  |    +--copper64
  |         |--...
  +--project
       |--SomeFile.asm
       +--SomeOtherFile.asm
</code></pre></div></div>

<p>If you then specify <code class="highlighter-rouge">-libdir</code> parameter to the KickAss appropriately,
you’ll be able to use the libs (asm files in <code class="highlighter-rouge">lib</code> directory) with
simple <code class="highlighter-rouge">#import</code> directive, i.e.:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#import "common/lib/math-global.asm"
</code></pre></div></div>

<p>As mentioned earlier, checkout from <code class="highlighter-rouge">master</code> branch ensures that last
released version of library is used. If you want to change it and use
concrete version from the past, after <code class="highlighter-rouge">git clone</code> you have to enter
cloned directory (i.e. <code class="highlighter-rouge">cd common</code>) and checkout desired version:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout 1.0.0
</code></pre></div></div>

<p>(for version <code class="highlighter-rouge">1.0.0</code>).</p>

<p>Assembling is then possible with manual invocation of Kick Assembler:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java -jar c:\ka\KickAss.jar -libdir ../libs SomeFile.asm
java -jar c:\ka\KickAss.jar -libdir ../libs SomeOtherFile.asm
</code></pre></div></div>

<h2 id="manual-copy">Manual copy</h2>
<p>Least desired method of installation of <code class="highlighter-rouge">c64lib</code> is to download source
code of given version and unzipping it into target directory. It is
not a very convenient method but it does not require <a href="https://gradle.org/">Gradle</a>
nor Git to be installed on your computer.</p>

<p>For every library module you have to visit GitHub and open Releases
tab:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://github.com/c64lib/common/releases/tag/0.1.0
</code></pre></div></div>

<p>Under assets you will see zipped content of the library. Download it
and unzip into desired location, i.e. into <code class="highlighter-rouge">libs</code> directory. In result
you end up with similar layout as with “Git clone” method (see above).</p>

<p>You use exactly the same method to use library in your source code, i.e.:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#import "common/lib/invoke_global.asm"
</code></pre></div></div>

<p>and you invoke Kick Assembler using the same syntax:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java -jar c:\ka\KickAss.jar -libdir ../libs SomeFile.asm
</code></pre></div></div>

<p>assuming, that your <code class="highlighter-rouge">libs</code> directory exists on the same level as your
project directory.</p>

<h2 id="further-reading">Further reading</h2>
<ul>
  <li><a href="building-blocks">Building blocks of c64lib</a></li>
  <li><a href="libraries">What libraries are available within c64lib</a></li>
</ul>



</article>


	  </main>

		  <!-- Pagination links -->
      

	  </div>

	    <!-- Footer -->
	    <footer><span>&#169; 2018-2020 <code>c64lib</code> &#10540; last update: 2020-01-04 22:18</span></footer>


      <div id="gdpr" style="display: none;">
        <p>
          This web page uses cookies to track anonymous user activities. By continuing using this site
          or by closing this banner you indicate your consent to use these cookies.
          You can change settings, i.e. disable user tracking on <a href="privacy.html">privacy</a> page.
        </p>
        <button id="gdprClose">Close</button>
      </div>

	    <!-- Script -->
      <script src="/jekyll-starter/js/main.js"></script>	


	</div>

</body>
</html>
